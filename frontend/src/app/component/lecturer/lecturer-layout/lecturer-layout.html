<div class="lecturer-layout">
  <!-- Sidebar -->
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav 
      #drawer
      mode="side" 
      opened="true"
      class="sidenav"
      fixedInViewport="true">
      
      <!-- Sidebar Header -->
      <div class="sidebar-header">
        <div class="logo-container">
          <div class="logo-circle">
            <mat-icon>school</mat-icon>
          </div>
        </div>
      </div>

      <!-- Navigation Menu -->
      <nav class="sidebar-nav">
        <!-- Dashboard -->
        <div class="nav-item" routerLinkActive="active" routerLink="/lecturer/dashboard">
          <div class="nav-content">
            <mat-icon class="nav-icon">dashboard</mat-icon>
            <span class="nav-text">Dashboard</span>
          </div>
        </div>

        <!-- My Courses -->
        <div class="nav-item expandable" [class.expanded]="coursesExpanded">
          <div class="nav-content" (click)="toggleCourses()">
            <mat-icon class="nav-icon">library_books</mat-icon>
            <span class="nav-text">My Courses</span>
            <mat-icon class="expand-icon">{{ coursesExpanded ? 'expand_less' : 'expand_more' }}</mat-icon>
          </div>
          
          <!-- Sub-menu for Courses -->
          <div class="sub-menu" *ngIf="coursesExpanded">
            <div class="sub-nav-item" routerLinkActive="active" routerLink="/lecturer/courses/active">
              <mat-icon class="sub-icon">play_circle</mat-icon>
              <span class="sub-text">Active</span>
              <span class="count-badge">{{ totalCourses || 0 }}</span>
            </div>
            <div class="sub-nav-item" routerLinkActive="active" routerLink="/lecturer/courses/create">
              <mat-icon class="sub-icon">add_circle</mat-icon>
              <span class="sub-text">Create New</span>
            </div>
            <div class="sub-nav-item" routerLinkActive="active" routerLink="/lecturer/courses/archived">
              <mat-icon class="sub-icon">archive</mat-icon>
              <span class="sub-text">Archived</span>
              <span class="count-badge green">3</span>
            </div>
          </div>
        </div>

        <!-- Students -->
        <div class="nav-item expandable" [class.expanded]="studentsExpanded">
          <div class="nav-content" (click)="toggleStudents()">
            <mat-icon class="nav-icon">people</mat-icon>
            <span class="nav-text">Students</span>
            <mat-icon class="expand-icon">{{ studentsExpanded ? 'expand_less' : 'expand_more' }}</mat-icon>
          </div>
          
          <!-- Sub-menu for Students -->
          <div class="sub-menu" *ngIf="studentsExpanded">
            <div class="sub-nav-item" routerLinkActive="active" routerLink="/lecturer/students/enrolled">
              <mat-icon class="sub-icon">school</mat-icon>
              <span class="sub-text">Enrolled</span>
              <span class="count-badge">{{ totalStudents || 0 }}</span>
            </div>
            <div class="sub-nav-item" routerLinkActive="active" routerLink="/lecturer/students/performance">
              <mat-icon class="sub-icon">trending_up</mat-icon>
              <span class="sub-text">Performance</span>
            </div>
          </div>
        </div>

        <!-- Assignments -->
        <div class="nav-item" routerLinkActive="active" routerLink="/lecturer/assignments">
          <div class="nav-content">
            <mat-icon class="nav-icon">assignment</mat-icon>
            <span class="nav-text">Assignments</span>
            <mat-icon class="add-icon">add</mat-icon>
          </div>
        </div>

        <!-- Grades -->
        <div class="nav-item" routerLinkActive="active" routerLink="/lecturer/grades">
          <div class="nav-content">
            <mat-icon class="nav-icon">grade</mat-icon>
            <span class="nav-text">Grades</span>
            <span class="count-badge orange">{{ pendingGrades }}</span>
          </div>
        </div>

        <!-- Schedule -->
        <div class="nav-item" routerLinkActive="active" routerLink="/lecturer/schedule">
          <div class="nav-content">
            <mat-icon class="nav-icon">schedule</mat-icon>
            <span class="nav-text">Schedule</span>
          </div>
        </div>

        <!-- Analytics -->
        <div class="nav-item" routerLinkActive="active" routerLink="/lecturer/analytics">
          <div class="nav-content">
            <mat-icon class="nav-icon">analytics</mat-icon>
            <span class="nav-text">Analytics</span>
          </div>
        </div>
      </nav>
    </mat-sidenav>

    <!-- Main Content -->
    <mat-sidenav-content class="main-content">
      <!-- Top Toolbar -->
      <mat-toolbar class="top-toolbar">
        <button mat-icon-button (click)="drawer.toggle()" class="menu-toggle">
          <mat-icon>menu</mat-icon>
        </button>
        
        <span class="spacer"></span>
        
        <!-- Search -->
        <div class="search-container">
          <mat-icon>search</mat-icon>
          <input type="text" placeholder="Search students, courses..." class="search-input">
        </div>
        
        <!-- User Info -->
        <div class="user-info" *ngIf="currentUser$ | async as currentUser">
          <span class="user-name">{{ currentUser.firstName }} {{ currentUser.lastName }}</span>
          <span class="user-role">{{ currentUser.role | titlecase }}</span>
        </div>
        
        <!-- Profile -->
        <button mat-icon-button class="profile-button">
          <div class="profile-avatar">
            <mat-icon>account_circle</mat-icon>
          </div>
        </button>
        
        <!-- Logout -->
        <button mat-icon-button class="logout-button" (click)="logout()" title="Logout">
          <mat-icon>logout</mat-icon>
        </button>
      </mat-toolbar>

      <!-- Page Content -->
      <div class="page-content">
        <ng-content></ng-content>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
